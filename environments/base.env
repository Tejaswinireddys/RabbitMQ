# RabbitMQ Base Environment Configuration
# This file contains common configuration shared across all environments

# === Cluster Configuration ===
RABBITMQ_CLUSTER_NAME="rabbitmq-cluster"
RABBITMQ_NODE_NAME_PREFIX="rabbit"
RABBITMQ_USE_LONGNAME="false"

# === Network Configuration ===
RABBITMQ_NODE_PORT="5672"
RABBITMQ_DIST_PORT="25672"
RABBITMQ_MANAGEMENT_PORT="15672"

# === Security Configuration ===
RABBITMQ_DEFAULT_USER="admin"
RABBITMQ_DEFAULT_PASS="Change_This_Password_123!"

# === Custom Users ===
RABBITMQ_CUSTOM_USER_1="teja"
RABBITMQ_CUSTOM_USER_1_PASS="Teja_Secure_Pass_456!"
RABBITMQ_CUSTOM_USER_1_TAGS="administrator"

RABBITMQ_CUSTOM_USER_2="aswini"
RABBITMQ_CUSTOM_USER_2_PASS="Aswini_Secure_Pass_789!"
RABBITMQ_CUSTOM_USER_2_TAGS="administrator"

# === Cluster Partition Handling ===
RABBITMQ_CLUSTER_PARTITION_HANDLING="pause_minority"

# === Memory and Disk Configuration ===
RABBITMQ_VM_MEMORY_HIGH_WATERMARK="0.6"
RABBITMQ_DISK_FREE_LIMIT="2GB"

# === SSL/TLS Configuration ===
RABBITMQ_SSL_ENABLED="true"
RABBITMQ_SSL_CERT_DIR="/etc/rabbitmq/ssl"
RABBITMQ_SSL_VERIFY="verify_peer"
RABBITMQ_SSL_FAIL_IF_NO_PEER_CERT="false"

# === Performance Tuning ===
RABBITMQ_HEARTBEAT="60"
RABBITMQ_FRAME_MAX="131072"
RABBITMQ_CHANNEL_MAX="2047"

# === Log Configuration ===
RABBITMQ_LOG_LEVEL="info"
RABBITMQ_LOG_BASE="/var/log/rabbitmq"

# === Data Directory ===
RABBITMQ_MNESIA_BASE="/var/lib/rabbitmq/mnesia"

# === Monitoring Configuration ===
RABBITMQ_PROMETHEUS_ENABLED="true"
RABBITMQ_MANAGEMENT_STATS_EVENT_REFRESH_INTERVAL="5000"

# === Backup Configuration ===
RABBITMQ_BACKUP_DIR="/backup/rabbitmq"
# === Auto-Recovery Configuration ===
RABBITMQ_CLUSTER_FORMATION_RETRY_DELAY="30"
RABBITMQ_CLUSTER_FORMATION_RETRY_LIMIT="10"
RABBITMQ_AUTO_RECOVERY_ENABLED="true"
RABBITMQ_AUTO_RECOVERY_DELAY="30"

# === Boot Behavior ===
RABBITMQ_FORCE_BOOT_ON_STARTUP="false"  # Set to true for aggressive recovery
RABBITMQ_STARTUP_TIMEOUT="300"          # 5 minutes timeout for startup

# === Cluster Formation Settings ===
RABBITMQ_CLUSTER_FORMATION_NODE_CLEANUP="true"
RABBITMQ_CLUSTER_FORMATION_LOG_CLEANUP="true"
RABBITMQ_RANDOMIZED_STARTUP_DELAY_MIN="5"
RABBITMQ_RANDOMIZED_STARTUP_DELAY_MAX="30"

# === Auto-Recovery Monitor Settings ===
RABBITMQ_MONITOR_CHECK_INTERVAL="60"
RABBITMQ_MONITOR_RECOVERY_TIMEOUT="300"
RABBITMQ_MONITOR_MAX_FAILURES="3"
RABBITMQ_MONITOR_RECOVERY_COOLDOWN="1800"
